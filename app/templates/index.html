{% extends 'base.html' %}

{% block content %}
<div class="content">
    <h2 class="content__block-title">Добро пожаловать в мир чтения с LiteraLands!</h2>
    <div class="content__block center">
        
        <div class="content__block__left">
            
            <p class="content__block-text"> LiteraLands - это ваш уютный уголок для истинных ценителей литературы.
                Здесь вас ждет: </p>
            <ul class="content__block-list">
                <li>Возможность создания персонального списка книг, которые вас заинтересовали.</li>
                <li>Ведение дневника прочитанных произведений, чтобы отслеживать свой литературный путь.</li>
                <li>Просмотр книг по жанрам, чтобы легко находить произведения, соответствующие вашим предпочтениям.
                </li>
                <li>Получение персонализированных рекомендаций на основе ваших интересов и предыдущих прочитанных
                    книг.
                </li>
            </ul>
            <!-- <a class="content__button" href="/register">Зарегистрироваться</a> -->
        </div>
        <div class="content__block__right">
            
            <img src="./static/image/library.png" class="content__block__img">
            <!-- <p class="content__block-text"> LiteraLands - это ваш литературный спутник, созданный специально для вас.
                Добро пожаловать в мир книг и историй! </p> -->

        </div>
        
    </div>
<a class="content__button" href="/register">Зарегистрироваться</a>
    <div class="book-section">
        <div class="book-section sect">
            <h2 class="content__block-title">Случайные книги</h2>
            <div id="carouselExample" class="carousel slide" data-ride="false" data-interval="false">
                <div class="carousel-inner">
    {% for i in range(0, bestsellers|length if bestsellers|length < 15 else 15, 5) %}
    <div class="carousel-item {% if loop.index == 1 %}active{% endif %}">
        <div class="row">
            {% for j in range(i, i+5) %}
            {% if j < bestsellers|length %}
            {% set book_data = bestsellers[j] %}
            <div class="col-md-2">
                <a href="{{ url_for('book_details', google_id=book_data.google_id) }}" class="book-link">
                    <div class="book-content">
                        <div class="book-rating">{{ book_data.rating }}</div>
                        <img src="{{ book_data.cover_image or url_for('static', filename='image/no_cover.jpg') }}?{{ j }}"
                             alt="Обложка книги: {{ book_data.title }}">
                        <div class="book-details">
                            <p class="book__title">
                                <strong>{{ book_data.title[:30] }}{% if book_data.title|length > 30 %}...{% endif %}</strong>
                            </p>
                            <p class="book__text">
                                {{ book_data.author[:30] }}{% if book_data.author|length > 30 %}...{% endif %}
                            </p>
                        </div>
                    </div>
                </a>
            </div>
            {% endif %}
            {% endfor %}
        </div>
    </div>
    {% endfor %}
</div>

                <a class="carousel-control-prev rounded-circle" href="#carouselExample" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next rounded-circle" href="#carouselExample" role="button" data-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                </a>
            </div>
        </div>
    </div>
    <div class="book-section">
        <!-- Карусель с новинками -->
        <div class="book-section sect">
            <h2 class="content__block-title">Новинки</h2>
            <div id="carouselNewBooks" class="carousel slide" data-ride="false" data-interval="false">
                <div class="carousel-inner">
    {% for i in range(0, new_books|length if new_books|length < 15 else 15, 5) %}
    <div class="carousel-item {% if loop.index == 1 %}active{% endif %}">
        <div class="row">
            {% for j in range(i, i+5) %}
            {% if j < new_books|length %}
            {% set book_data = new_books[j] %}
            <div class="col-md-2">
                <a href="{{ url_for('book_details', google_id=book_data.google_id) }}" class="book-link">
                    <div class="book-content">
                        <div class="book-rating">{{ book_data.rating }}</div>
                        <img src="{{ book_data.cover_image or url_for('static', filename='image/no_cover.jpg') }}?{{ j }}"
                             alt="Обложка книги: {{ book_data.title }}">
                        <div class="book-details">
                            <p class="book__title">
                                <strong>{{ book_data.title[:30] }}{% if book_data.title|length > 30 %}...{% endif %}</strong>
                            </p>
                            <p class="book__text">
                                {{ book_data.author[:30] }}{% if book_data.author|length > 30 %}...{% endif %}
                            </p>
                        </div>
                    </div>
                </a>
            </div>
            {% endif %}
            {% endfor %}
        </div>
    </div>
    {% endfor %}
</div>

                <a class="carousel-control-prev rounded-circle" href="#carouselNewBooks" role="button"
                   data-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next rounded-circle" href="#carouselNewBooks" role="button"
                   data-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                </a>
            </div>
        </div>
    </div>

</div>
<script>

</script>

{% endblock %}

<div id="app"></div>
<script src="{{ url_for('static', filename='js/app.1bc9f16d.js') }}"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

